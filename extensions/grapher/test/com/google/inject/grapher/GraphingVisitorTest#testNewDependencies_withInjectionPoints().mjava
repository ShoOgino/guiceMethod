  public void testNewDependencies_withInjectionPoints() throws Exception {
    @SuppressWarnings("unchecked")
    ImplementationNode<String> node = recordMock(createMock(ImplementationNode.class));
    
    node.addMember(Obj.class.getDeclaredField("string"));
    expectLastCall();
    node.addMember(Obj.class.getDeclaredField("integer"));
    expectLastCall();
    node.addMember(Obj.class.getDeclaredField("bool"));
    expectLastCall();
    node.addMember(Obj.class.getDeclaredMethod("setInteger", Integer.class));
    expectLastCall();

    replayAll();

    Injector injector = Guice.createInjector(new ClassModule());
    ConstructorBinding<?> binding = (ConstructorBinding<?>) injector.getBinding(Obj.class);

    Collection<DependencyEdge<String>> edges = graphingVisitor.newDependencyEdges("", node,
        binding.getDependencies());

    assertEquals("There should be four edges, from the three fields plus the method",
        4, edges.size());
    
    verifyAll();
  }

