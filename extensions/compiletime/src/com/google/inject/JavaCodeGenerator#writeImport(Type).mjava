  public void writeImport(Type type) throws IOException {
    if (!(type instanceof Class)) {
      throw new UnsupportedOperationException();
    }

    Class<?> clas = (Class<?>) type;

    if (importedClasses.containsKey(clas.getSimpleName())) {
      return;
    }

    if (!"java.lang".equals(clas.getPackage().getName())) {
      writeLine("import %s;", typeName(type));
    }
    importedClasses.put(clas.getSimpleName(), clas);
  }

