    String keyLiteral(Key<?> key) {
      if (!(key.getTypeLiteral().getType() instanceof Class)) {
        throw new UnsupportedOperationException("TODO");
      }
      if (key.getAnnotationType() != null) {
        throw new UnsupportedOperationException("TODO");
      }
      return String.format("Key.get(%s.class)", typeName(key.getTypeLiteral().getType()));
    }

