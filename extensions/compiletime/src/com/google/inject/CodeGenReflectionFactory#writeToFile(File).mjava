  /**
   * Writes generated .java files to {@code generatedSourceDirectory}.
   */
  void writeToFile(File generatedSourceDirectory) throws IOException {
    JavaCodeGenerator out = JavaCodeGenerator.open(generatedSourceDirectory,
        generatedCodePackage, generatedClassSimpleName());
    new ClassWriter(out).writeClass();
    out.close();
  }

