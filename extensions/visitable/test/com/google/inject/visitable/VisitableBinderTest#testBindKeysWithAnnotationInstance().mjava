  public void testBindKeysWithAnnotationInstance() {
    Module module = new AbstractModule() {
      protected void configure() {
        bind(String.class).annotatedWith(Names.named("a")).toInstance("B");
        bind(new TypeLiteral<String>() {}).annotatedWith(Names.named("a")).toInstance("C");
      }
    };

    module.configure(binder);

    for (Command command : binder.getCommands()) {
      command.acceptVisitor(
          new FailingVisitor() {
            @Override public Void visitBinding(BindCommand command) {
              assertEquals(Key.get(String.class, Names.named("a")), command.getKey());
              return null;
            }
          }
      );
    }
  }

