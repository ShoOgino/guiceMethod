  public void testBindKeysWithAnnotationType() {
    Module module = new AbstractModule() {
      protected void configure() {
        bind(String.class).annotatedWith(TaggingAnnotation.class).toInstance("A");
        bind(new TypeLiteral<String>() {}).annotatedWith(TaggingAnnotation.class).toInstance("B");
      }
    };

    module.configure(binder);

    for (Command command : binder.getCommands()) {
      command.acceptVisitor(
          new FailingVisitor() {
            @Override public Void visitBinding(BindCommand command) {
              assertEquals(Key.get(String.class, TaggingAnnotation.class), command.getKey());
              return null;
            }
          }
      );
    }
  }

