  public void testFactoryMethodMustDeclareAllConstructorExceptions() {
    try {
      FactoryProvider.newFactory(DefectiveCarFactoryWithNoExceptions.class, DefectiveCar.class);
      fail();
    } catch (IllegalStateException expected) {
      assertContains(expected.getMessage(), "no compatible exception is thrown");
    }
  }

