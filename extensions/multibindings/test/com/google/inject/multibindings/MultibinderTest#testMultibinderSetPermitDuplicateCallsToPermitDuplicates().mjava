  public void testMultibinderSetPermitDuplicateCallsToPermitDuplicates() {
    Injector injector = Guice.createInjector(
        new AbstractModule() {
          protected void configure() {
            Multibinder<String> multibinder = Multibinder.newSetBinder(binder(), String.class);
            multibinder.permitDuplicates();
            multibinder.addBinding().toInstance("A");
            multibinder.addBinding().toInstance("B");
          }
        },
        new AbstractModule() {
          protected void configure() {
            Multibinder<String> multibinder = Multibinder.newSetBinder(binder(), String.class);
            multibinder.permitDuplicates();
            multibinder.addBinding().toInstance("B");
            multibinder.addBinding().toInstance("C");
          }
        });

    assertEquals(setOf("A", "B", "C"), injector.getInstance(Key.get(setOfString)));
  }

