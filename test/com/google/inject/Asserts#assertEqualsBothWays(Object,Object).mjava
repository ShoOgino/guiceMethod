  /**
   * Fails unless {@code expected.equals(actual)}, {@code
   * actual.equals(expected)} and their hash codes are equal. This is useful
   * for testing the equals method itself.
   */
  public static void assertEqualsBothWays(Object expected, Object actual) {
    Assert.assertNotNull(expected);
    Assert.assertNotNull(actual);
    Assert.assertTrue("expected.equals(actual)", expected.equals(actual));
    Assert.assertTrue("actual.equals(expected)", actual.equals(expected));
    Assert.assertEquals("hashCode", expected.hashCode(), actual.hashCode());
  }

