  public void testLocatorInjection() throws CreationException {
    ContainerBuilder builder = new ContainerBuilder();

    builder.bind(Bar.class);
    builder.bind(ContainerScoped.class).in(Scopes.CONTAINER);

    Container container = builder.create();

    Foo foo = container.getLocator(Foo.class).get();

    Bar bar = foo.barLocator.get();
    assertNotNull(bar);
    assertNotSame(bar, foo.barLocator.get());

    ContainerScoped containerScoped = foo.containerScopedLocator.get();
    assertNotNull(containerScoped);
    assertSame(containerScoped, foo.containerScopedLocator.get());
  }

