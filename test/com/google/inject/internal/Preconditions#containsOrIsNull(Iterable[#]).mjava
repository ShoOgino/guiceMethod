  private static boolean containsOrIsNull(Iterable<?> iterable) {
    if (iterable == null) {
      return true;
    }
    
    if (iterable instanceof Collection) {
      Collection<?> collection = (Collection<?>) iterable;
      try {
        return collection.contains(null);
      } catch (NullPointerException e) {
        // A NPE implies that the collection doesn't contain null.
        return false;
      }
    } else {
      for (Object element : iterable) {
        if (element == null) {
          return true;
        }
      }
      return false;
    }
  }

