  public void testFactoryMethods() throws ContainerCreationException {
    Singleton singleton = new Singleton();

    ContainerBuilder builder = new ContainerBuilder();
    builder.bind(Singleton.class).to(singleton);
    Container container = builder.create(true);

    assertSame(singleton,
        container.getFactory(Key.get(Singleton.class)).get());
    assertSame(singleton, container.getFactory(Singleton.class).get());
    assertSame(singleton,
        container.getFactory(new TypeLiteral<Singleton>() {}).get());
    assertSame(singleton, container.getInstance(Key.get(Singleton.class)));
    assertSame(singleton, container.getInstance(Singleton.class));
    assertSame(singleton,
        container.getInstance(new TypeLiteral<Singleton>() {}));
  }

