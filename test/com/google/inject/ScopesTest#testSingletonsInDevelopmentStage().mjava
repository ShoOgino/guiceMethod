  public void testSingletonsInDevelopmentStage() {
    Guice.createInjector(Stage.DEVELOPMENT, new AbstractModule() {
      protected void configure() {
        bind(AnnotatedSingleton.class);
        bind(BoundAsSingleton.class).in(Scopes.SINGLETON);
        bind(EagerSingleton.class).asEagerSingleton();
        bind(LinkedSingleton.class).to(RealLinkedSingleton.class);
      }
    });

    assertEquals(0, AnnotatedSingleton.nextInstanceId);
    assertEquals(0, BoundAsSingleton.nextInstanceId);
    assertEquals(1, EagerSingleton.nextInstanceId);
    assertEquals(0, RealLinkedSingleton.nextInstanceId);
  }

