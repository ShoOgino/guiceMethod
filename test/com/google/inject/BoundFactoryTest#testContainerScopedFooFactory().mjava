  public void testContainerScopedFooFactory()
      throws CreationException {
    BinderImpl cb = new BinderImpl();
    cb.bind(Foo.class).toFactory(ContainerScopedFooFactory.class);
    Container c = cb.createContainer();

    Foo a = c.getProvider(Foo.class).get();
    Foo b = c.getProvider(Foo.class).get();

    assertEquals(0, a.i);
    assertEquals(1, b.i);
    assertNotNull(a.bar);
    assertNotNull(b.bar);
    assertSame(a.bar, b.bar);
  }

