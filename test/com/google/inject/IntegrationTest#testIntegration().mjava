  public void testIntegration() throws CreationException {
    CountingInterceptor counter = new CountingInterceptor();

    BinderImpl binder = new BinderImpl();
    binder.bind(Foo.class);
    binder.bindInterceptor(any(), any(), counter);
    Container container = binder.createContainer();

    Foo foo = container.getLocator(Key.get(Foo.class)).get();
    foo.foo();
    assertTrue(foo.invoked);
    assertEquals(1, counter.count);

    foo = container.getLocator(Foo.class).get();
    foo.foo();
    assertTrue(foo.invoked);
    assertEquals(2, counter.count);
  }

