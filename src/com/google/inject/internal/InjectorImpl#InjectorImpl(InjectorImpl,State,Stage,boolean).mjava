  InjectorImpl(@Nullable InjectorImpl parent, State state, Stage stage, boolean jitDisabled) {
    this.parent = parent;
    this.state = state;
    this.stage = stage;
    this.jitDisabled = jitDisabled;

    if (parent != null) {
      localContext = parent.localContext;
    } else {
      localContext = new ThreadLocal<Object[]>() {
        protected Object[] initialValue() {
          return new Object[1];
        }
      };
    }
  }

