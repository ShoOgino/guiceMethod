  private void ensureImplementationIsNotSet() {
    if (factory != null) {
      errorMessages.add(
          new ErrorMessage(source, "Implementation set more than once."));
    }
  }

