  /**
   * Sets the default source, runs the given command, and then
   * restores the previous default source provider. Wraps checked exceptions
   * with a RuntimeException.
   */
  public static <T> T withDefault(
      final Object source, Callable<T> c) {
    return withDefault(new SourceProvider() {
      public Object source() {
        return source;
      }
    }, c);
  }

