    SBarrierProvider(int nThreads) {
      barrier =
          new CyclicBarrier(
              nThreads,
              new Runnable() {
                @Override
                public void run() {
                  // would finish before returning from await() for any thread
                  barrierPassed = true;
                }
              });
    }

