  public void testFinalizeReferentCalled() {
    MockReference reference = new MockReference(
        frq = new FinalizableReferenceQueue());
    // wait up to 5s
    for (int i = 0; i < 500; i++) {
      if (reference.finalizeReferentCalled) {
        return;
      }
      try {
        System.gc();
        Thread.sleep(10);
      } catch (InterruptedException e) { /* ignore */ }
    }
    fail();
  }

