  public void testGetCallStack_IntegrationTest_Default() throws Exception {
    System.setProperty("guice_include_stack_traces", "DEFAULT");
    List<Element> elements = Elements.getElements(new A());
    for (Element element : elements) {
      if (element instanceof Binding) {
        Binding<?> binding = (Binding<?>) element;
        Class<? extends Annotation> annotationType = binding.getKey().getAnnotationType();
        if (annotationType != null && annotationType.equals(SampleAnnotation.class)) {
          ElementSource elementSource = (ElementSource) binding.getSource();
          // Check module stack
          List<String> moduleClassNames = elementSource.getModuleClassNames();
          // Module C
          assertEquals("com.google.inject.spi.ElementSourceTest$C", moduleClassNames.get(0));
          // Module B
          assertEquals("com.google.inject.spi.ElementSourceTest$B", moduleClassNames.get(1));
          // Module A
          assertEquals("com.google.inject.spi.ElementSourceTest$A", moduleClassNames.get(2));
          // Check call stack
          StackTraceElement[] callStack = elementSource.getStackTrace();
          assertEquals(0, elementSource.getStackTrace().length);
          return;
        }
      }
    }
    fail("The test should not reach this line.");
  }

